(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{9754:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/step2",function(){return n(6231)}])},6231:function(e,t,n){"use strict";n.r(t);var r=n(4051),a=n.n(r),o=n(5893),l=n(7294),u=n(3004),s=n(936),i=n(3799),c=n(1163),f=n(2535);function h(e,t,n,r,a,o,l){try{var u=e[o](l),s=u.value}catch(i){return void n(i)}u.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){h(o,r,a,l,u,"next",e)}function u(e){h(o,r,a,l,u,"throw",e)}l(void 0)}))}}var v=u;console.log(v[0]["Item Name"]);var b=[{value:"1st",label:"1st"},{value:"2nd",label:"2nd"},{value:"3rd",label:"3rd"},{value:"4th",label:"4th"},{value:"5th",label:"5th"},{value:"6th",label:"6th"},{value:"7th",label:"7th"},{value:"8th",label:"8th"},{value:"9th",label:"9th"},{value:"10th",label:"10th"},{value:"11th",label:"11th"},{value:"12th",label:"12th"}],d=[{value:!0,label:"available"},{value:!1,label:"not available"}];t.default=function(){var e=(0,c.useRouter)(),t=(0,l.useContext)(i.Z),n=t.booking,r=t.setBooking,u=(0,l.useState)(null),h=u[0],v=u[1],m=(0,l.useState)(null),x=m[0],w=m[1],g=(0,l.useState)(null),y=g[0],k=g[1],N=(0,l.useState)(null),j=N[0],_=N[1],P=(0,l.useState)({}),C=(P[0],P[1]);(0,l.useEffect)((function(){console.log("booking in step 2 is",n),C(n)}),[n]);var F=function(){var t=p(a().mark((function t(n){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,I();case 3:(o=t.sent).data.status&&(console.log("liftAvailability result is",o),r(o.data),e.push("/step3")),console.log("step 2 result is",o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var e=p(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Io)({bookingId:null===n||void 0===n?void 0:n.bookingId,currentFloor:h.value,isLiftAvailableOnCurrentFloor:y.value,movingOnFloor:x.value,isLiftAvailableOnMovingFloor:j.value});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=!(h&&y&&x&&j);return(0,o.jsxs)("form",{className:"max-w-screen-xl m-auto py-10 mt-10 px-5 border",children:[(0,o.jsxs)("div",{className:"flex items-center mb-5 justify-center",children:[(0,o.jsx)("label",{htmlFor:"name",className:"inline-block mr-2 text-gray-600",children:"I currently live on"}),(0,o.jsx)(s.ZP,{className:"block appearance w-40 bg-white border-gray-400 hover:border-gray-500 px-4 py-2 focus:outline-none focus:shadow-outline",defaultValue:h,onChange:v,options:b}),(0,o.jsx)("label",{htmlFor:"name",className:"inline-block w-50 mr-1 text-gray-600",children:"floor with service lift"}),(0,o.jsx)(s.ZP,{className:"block appearance-none w-60 bg-white border-gray-400 hover:border-gray-500 px-4 py-2 focus:outline-none focus:shadow-outline",defaultValue:y,onChange:k,options:d}),(0,o.jsx)("label",{htmlFor:"name",className:"inline-block w-30 mr-1 text-gray-600",children:"for shifting."})]}),(0,o.jsxs)("div",{className:"flex items-center mb-5 justify-center",children:[(0,o.jsx)("label",{htmlFor:"name",className:"inline-block w-30 mr-2 text-gray-600",children:"I'm moving to"}),(0,o.jsx)(s.ZP,{className:"block appearance w-40 bg-white border-gray-400 hover:border-gray-500 px-4 py-2 focus:outline-none focus:shadow-outline",defaultValue:x,onChange:w,options:b}),(0,o.jsx)("label",{className:"inline-block w-50 mr-1 text-gray-600 text-right",children:"floor with service lift"}),(0,o.jsx)(s.ZP,{className:"block appearance-none w-60 bg-white border-gray-400 hover:border-gray-500 px-4 py-2 focus:outline-none focus:shadow-outline",defaultValue:j,onChange:_,options:d}),(0,o.jsx)("label",{htmlFor:"name",className:"inline-block w-30 mr-1 text-gray-600",children:"for shifting."})]}),(0,o.jsx)("div",{className:"flex justify-center items-center",children:(0,o.jsx)("button",{className:"mt-4 bg-blue-500 hover:bg-blue-400 text-green-100 border py-2 px-8 font-semibold text-lg rounded shadow-lg disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none",type:"submit",onClick:F,disabled:E,children:"Next"})})]})}},2535:function(e,t,n){"use strict";n.d(t,{Io:function(){return h},M6:function(){return f},Mu:function(){return c},UJ:function(){return i}});var r=n(4051),a=n.n(r),o=n(9669),l=n.n(o);function u(e,t,n,r,a,o,l){try{var u=e[o](l),s=u.value}catch(i){return void n(i)}u.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){u(o,r,a,l,s,"next",e)}function s(e){u(o,r,a,l,s,"throw",e)}l(void 0)}))}}var i=function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l().post("/api/customer",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l().post("/api/customer/verifyOtp",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l().post("/api/customer/collectBasicInfo",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l().put("api/customer/liftAvailability",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},function(e){e.O(0,[669,936,4,774,888,179],(function(){return t=9754,e(e.s=t);var t}));var t=e.O();_N_E=t}]);